# Height Mapping Configuration - Global Mapping (Fixed Origin)
# Uses ppl (Pipeline Library) format

# Mapper settings
mapper:
  map:
    width: 200.0
    height: 200.0
    resolution: 0.1
    frame_id: "map"

# Pipeline configuration
# No MoveOrigin stage = map-centric (fixed origin)
pipeline:
  enable_profiling: true
  profile_interval: 100
  stages:
    - VoxelFilter
    - PassthroughFilter
    - Raycasting
    - HeightEstimation

# Stage parameters
params:
  VoxelFilter:
    voxel_size: 0.05
    method: "centroid"

  PassthroughFilter:
    range_min: 0.5
    range_max: 10.0
    z_min: -0.1
    z_max: 2.0

  Raycasting:
    enabled: true
    threshold: 0.02
    min_distance: 0.5
    persistence:
      max_count: 30.0
      step_add: 3.0
      step_sub: 1.0

  HeightEstimation:
    type: "incremental_mean"
    kalman:
      process_noise: 0.01
      measurement_noise: 0.05
      initial_variance: 1000.0
    moving_average:
      alpha: 0.3

  Inpainting:
    enabled: false
    max_iterations: 3
    min_valid_neighbors: 2
