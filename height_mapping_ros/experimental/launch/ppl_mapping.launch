<launch>
    <!-- PPL Mapping Node (Experimental) -->
    <!-- For researchers using YAML-configurable pipeline -->

    <arg name="config" default="$(find height_mapping)/config/experimental/pipeline/local.yaml" />
    <arg name="rviz" default="false" />

    <node name="ppl_mapping" pkg="height_mapping_ros" type="ppl_mapping_node" output="screen">
        <rosparam file="$(find height_mapping_ros)/config/default.yaml" command="load" subst_value="true" />
        <param name="config_path" value="$(arg config)" />
    </node>

    <!-- Visualization -->
    <include file="$(find height_mapping_ros)/launch/tools/visualization.launch" />

    <!-- RViz (optional) -->
    <node pkg="rviz" type="rviz" name="rviz" if="$(arg rviz)"
          args="-d $(find height_mapping_ros)/launch/rviz/height_mapping.rviz" />
</launch>
